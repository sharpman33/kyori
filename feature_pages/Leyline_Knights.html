<!DOCTYPE html>

<html>

<head>
	<meta charset="utf-8">
    <title> Tony Chen | Leyline Knights</title>
    <link rel="icon" type="image/ico" href="projects/Logo_Squared.png" width = auto height = "50" alt="logo"/>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://kit.fontawesome.com/eb30a26603.js" crossorigin="anonymous"></script>
</head>



<body>
	<header>
		<a href= "../index.html"><img class = logo src="../projects/Logo.png" width = auto height = "50" alt="logo"></a>
		<p class= logo-text>TONY CHEN</p>
		<div class = icons>
			<ul>
				<li><a href="https://www.linkedin.com/in/tony-chen-0a802b10a/" target = blank class="fab fa-linkedin-in fa-2x" class = "label"></a></li>
				<li><a href="https://kyori.itch.io/" target = blank class="fab fa-itch-io fa-2x" class = "label"></a></li>
				<!--<li><a href="https://github.com/sharpman33" target = blank class="fab fa-github fa-2x" class = "label"></a></li>-->
			</ul>
		</div>
		<nav id="nav">
			<input type="checkbox" />
	    <span ></span>
	    <span ></span>
	    <span ></span>
			<div class=nav-link-holder>
				<ul class = nav-links>
					<li><a href="../index.html">Home</a></li>
					<li><a href="../projects.html">Projects</a></li>
					<li><a href="../contact.html">Contact</a></li>
					<div class = hamburger-icons>
						<ul>
							<li><a href="https://www.linkedin.com/in/tony-chen-0a802b10a/" target = blank class="fab fa-linkedin-in fa-2x" class = "label"></a></li>
							<li><a href="https://kyori.itch.io/" target = blank class="fab fa-itch-io fa-2x" class = "label"></a></li>
							<!--<li><a href="https://github.com/sharpman33" target = blank class="fab fa-github fa-2x" class = "label"></a></li>-->
						</ul>
					</div>
				</ul>
			</div>
		</nav>
	</header>


	<div class = "container">
		<section class="feature-section">
				<div class = feature-section-imgbox>
					<iframe src="https://www.youtube.com/embed/XUNXM5v7t4g" frameborder="0" allowfullscreen="allowfullscreen" scrolling = "no" ></iframe>
				</div>
			</section>
		<section class = feature-banner>
			<img src="../projects/Leyline_Knights/images/banner.png" align = center>
		</section>

		<p class = "feature-title">Leyline Knights</p>
		<p class = "feature-date">September 2020 - Present</p>

		<section class = feature-section>
			<p class = "feature-info-title">Summary</p>
			<p class = "feature-info-detail">Leyline Knights is a top-down 3D action roguelike game. Player controls a magic-wielding knight and climb the Great World Tree in search of powerful magic to help your sick sibling. Player battles through randomly ordered room encounters and acquire elemental upgrades to aid in their climb. </p>
			<p class = "feature-info-detail">The most challenging part of the project is working with a team of 16. Though the team started off as 3, we slowly grew a total of 16. This is my first time working on a team this large. The project began during a semester where I worked majority on AI with another team member. But when the second semester began, we lost 2 systems programmers, so I shifted to work on back end systems to fill in the gap.</p>
		</section>

		<section class = feature-section>
			<p class = "feature-info-title">Format</p>
			<p class = "feature-info-detail">Game Engine: Unreal Engine 4</p>
			<p class = "feature-info-detail">Team Size: Fourteen</p>
			<p class = "feature-info-detail">Development Time: 2 Semesters</p>
		</section>


		<section class = feature-section>
			<p class = "feature-info-title">Roles</p>
			<p class = "feature-info-detail">Tech Lead</p>
			<p class = "feature-info-detail">Programmer</p>
		</section>

		<section class = feature-section>
			<p class = "feature-info-title">My Work</p>
			<p class = "feature-info-detail"><a href=#enemyai>Enemy AI</a></p>
			<p class = "feature-info-detail"><a href=#rewardsystem>Reward System</a></p>
			<p class = "feature-info-detail"><a href=#levelgenerator>Level Generator</a></p>
			<p class = "feature-info-detail"><a href=#achievementsystem>Achievement System</a></p>
			<p class = "feature-info-detail"><a >Elemental Effects</a></p>
			<p class = "feature-info-detail"><a >User Interface</a></p>
			<p class = "feature-info-detail"><a >Controller Compatibility</a></p>

		</section>

		<section class = "feature-section">
			<p class = "feature-info-title">Design</p>
			<p class = "feature-info-detail"> As tech lead, I oversee all programming tasks and ensure that all tasks are working properly and easily integrated for designers to use.</p>
		</section>

<!--
		<section class = "feature-section">
			<p class = "feature-info-title">Downloads</p>
			<p class = "feature-info-detail">Current Versions:
				<a href="https://kyori.itch.io/hungry-for-burger" download target= "blank"class = "feature-downloads">Itch.io</a>
			</p>
		</section>
-->
		<section id="enemyai" class ="feature-section">
			<p class = "feature-info-title">Enemy AI</p>
			<p class = "feature-info-detail">As a Tech Lead, I responsible for setting up all basic AI and implmentation of the first boss that the player encounters during the first biome, Candlekin.</p>
			<p class = "feature-info-detail">The basic enemies were created with a well-structures inheritance so that future work would be much easier. It was important that the base structure is well structured so when in the future, if we end up adding in more enemies, it would save a lot of time.</p>
			<p class = "feature-info-detail">For the AI, we used a combinations of blueprints, blackboard, and behavior trees. We tried to go into EQS but after ample testing, we had scrapped that ideas and sticked to just nav meshes.</p>
			<p class = "feature-info-detail"> This was the first time I worked with Behavior Trees in UE4 which resulted in a slow start, but after working on several base enemies, everything was going much smoother.</p>
			<p class = "feature-info-detail">Additionally, I implmented the first boss of the game, Galawick. This was the most challenging portion of creating AI. Since all the boss abilities were used by chance, all abilties were given a weight and they were selected by chance based on the weight. This is all set up in a Behavior Tree Task which can be resued on other enemies.</p>
			<p class = "feature-info-detail">After vertical slice, I moved away from working on AI to other system since we lost two systems programmers.</p>

	
			<div id="slideshow1" class="slideshowcontainer">
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/enemyai1.png" style="width:100%" alt="tutorial system">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/enemyai2.png"  style="width:100%">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/enemyai3.png" style="width:100%">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/enemyaispirit.gif" style="width:100%">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/enemyaistaff.gif" style="width:100%">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/enemyaicandlekinboss.gif" style="width:100%">
				</div>

				<a class="prev" onclick="plusSlides(-1, this.parentNode)"><p>&#10094;</p></a>
				<a class="next" onclick="plusSlides(1, this.parentNode)"><p>&#10095;</p></a>

				<div class="captioncontainer">
					<p class="caption"></p>
				</div>

				<div class="slideshowrow">
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/enemyai1.png"  onclick="currentSlide(1, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Worked on AI, I began with first setting up enemy parenting structure is setup correctly and easily expandable in the future. ">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/enemyai2.png"  onclick="currentSlide(2, this.parentNode.parentNode.parentNode)" style="width:100%" alt="We decided to use BehaviorTrees and Blackboard.">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/enemyai3.png"  onclick="currentSlide(3, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Using BehaviorTree tasks allowed us to reuse task among mutiple enemies since some functinalities work between most enemies. ">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/enemyaispirit.gif"  onclick="currentSlide(4, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Spirit Enemy AI during prototype phase">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/enemyaistaff.gif"  onclick="currentSlide(5, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Staff Enemy AI during prototype phase">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/enemyaicandlekinboss.gif"  onclick="currentSlide(6, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Boss AI during prototype phase">
					</div>
				</div>
			</section>


			<section id="rewardsystem" class ="feature-section">
			<p class = "feature-info-title">Rewards System</p>
			<p class = "feature-info-detail">The reward system at first were all random with a single reward spawning per room that the player cleared. This made the game too random where player could get runs with full upgraded elements and other runs where player would purely just get crystals(in-game currecny). This was solved by making each room spawn multiple rewards based on the room difficulty.</p>
			<p class = "feature-info-detail">Based on the room difficulty, Easy, Normal or Hard, the room would spawn 1, 2, or 3 rewards. This allows the player to make the decision of low quality reward for easier playthrough, or higher quality reward in trade of higher difficulty. This solved a alot of the issues of rewards being too random. But when adding in the second biome, there were a total of 15+ rooms that player could play through which by the end of second biome, the player could already achieve all elemental upgrades majority of the time if player chose normal or hard difficulty rooms. To solve this issue, we scaled and weighed the rewards based on previous rewards that the player recieved. </p>
			<p class = "feature-info-detail">Each type of reward was give a weight based on the difficulty of the room as well as player's previous rewards. For example, if player has never recieved a Elemental Upgrade and they are already at the third room, the chances of the room spawning an Elemental Upgrade is increased. This would be the same vice versa.</p>
			<p class = "feature-info-detail">With this new system in, not only did it make achieving all elements easier, but it also increased the value of other upgrades. After implmentation of this system, playing with other upgrades also felt impactful. While before, players would always go for elemental upgrades since 70+ percent of the time, there were elemental upgrade option. </p>
			<p class = "feature-info-detail">Once the system was done, I created data assets and added the base values and weights so that designers could easily adjust the values without going into the blueprints.</p>
			<div id="slideshow2" class="slideshowcontainer">
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/rewardsystem1.png" style="width:100%" alt="tutorial system">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/rewardsystem2.png"  style="width:100%">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/rewardsystem3.png" style="width:100%">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/rewardsystem.gif" style="width:100%">
				</div>

				<a class="prev" onclick="plusSlides(-1, this.parentNode)"><p>&#10094;</p></a>
				<a class="next" onclick="plusSlides(1, this.parentNode)"><p>&#10095;</p></a>

				<div class="captioncontainer">
					<p class="caption"></p>
				</div>

				<div class="slideshowrow">
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/rewardsystem1.png"  onclick="currentSlide(1, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Setup Easy Level Weights based on player conditions (top). Select reward based on availability and weights (bottom). ">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/rewardsystem2.png"  onclick="currentSlide(2, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Checking what rewards are available (top). Adding available rewards to an array (bottom).">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/rewardsystem3.png"  onclick="currentSlide(3, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Data Asset for designers to change base weights of reward spawn chances. ">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/rewardsystem.gif"  onclick="currentSlide(4, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Rewards system ">
					</div>
				</div>
			</section>
			
			<section id="levelgenerator" class ="feature-section">
			<p class = "feature-info-title">Level Generator / Wave System</p>
			<p class = "feature-info-detail"> With the game not allowing backtracking and requiring each level to differ from previous level, level generator was quite simple. I used prebuilt maps created by designers and placed them in arrays. When each level is loaded in, they set each door to a different level. Once the door is used, it removes the level from the array so that the level will never be used again. There are couple restrictions in amount of levels before a certain occurrence. This is completed by having a integer increment as player move through levels and once that threshold is met, it sets all the doors to that occurrence. Levels also have a difficulty rating that changes the enemy tier and element chances during that room. The difficulty is set based on random chance and is set on the doors.</p>
			<p class = "feature-info-detail"> With difficulty in place, the wave system set weights based on the difficulty. This is like the rewards system where it uses weights and adjusts those values based on certain conditions. For element chances, there are base chances and they are adjusted based on the difficulty level. All this information is stored in a data asset so they are easily tweaked. To spawn enemies, it takes the base element weights and added them to the difficulty weights. Then spawns the enemy based on the selected element.</p>

			<div id="slideshow3" class="slideshowcontainer">
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/levelgenerator1.png" style="width:100%" alt="tutorial system">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/levelgenerator2.png"  style="width:100%">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/levelgenerator3.png" style="width:100%">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/levelgenerator.gif" style="width:100%">
				</div>

				<a class="prev" onclick="plusSlides(-1, this.parentNode)"><p>&#10094;</p></a>
				<a class="next" onclick="plusSlides(1, this.parentNode)"><p>&#10095;</p></a>

				<div class="captioncontainer">
					<p class="caption"></p>
				</div>

				<div class="slideshowrow">
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/levelgenerator1.png"  onclick="currentSlide(1, this.parentNode.parentNode.parentNode)" style="width:100%" alt=" Getting available levels and setting them to doors and making sure that each door has a different level">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/levelgenerator2.png"  onclick="currentSlide(2, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Sets the weight based on difficulty of level (top). Adds base weight to difficulty weight to get a total adjusted weight based on conditions (bottom).">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/levelgenerator3.png"  onclick="currentSlide(3, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Setting specific rooms once conditions are met.">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/levelgenerator.gif"  onclick="currentSlide(4, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Level generator">
					</div>
				</div>
			</section>


			<section id="achievementsystem" class ="feature-section">
			<p class = "feature-info-title">Achievement System</p>
			<p class = "feature-info-detail"> The achievement system was a nice addon to the game as it something players try to achieve besides defeating every boss. I created this system by utilizing data assets and storing all the achievements there. Achievements themselves consist of an array of structs. The struct contains all the information of each achievement such as name, description, type, requirement, tier, etc. When actions are done, they check for the type of action and check if it is an achievement, if so, it increases the achievement values.</p>
			
			<div id="slideshow4" class="slideshowcontainer">
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/achievementsystem1.png" style="width:100%" alt="tutorial system">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/achievementsystem2.png"  style="width:100%">
				</div>
				<div class="slideshow">
					<img src="../projects/Leyline_Knights/images/achievementsystem.gif" style="width:100%">
				</div>


				<a class="prev" onclick="plusSlides(-1, this.parentNode)"><p>&#10094;</p></a>
				<a class="next" onclick="plusSlides(1, this.parentNode)"><p>&#10095;</p></a>

				<div class="captioncontainer">
					<p class="caption"></p>
				</div>

				<div class="slideshowrow">
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/achievementsystem1.png"  onclick="currentSlide(1, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Data asset where all achievements are set up. ">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/achievementsystem2.png"  onclick="currentSlide(2, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Achievement check if action done pertains to an achievement. (bottom is a continuation of top)">
					</div>
					<div class="slideshowcol">
						<img class="slideshowthumb" src="../projects/Leyline_Knights/images/achievementsystem.gif"  onclick="currentSlide(3, this.parentNode.parentNode.parentNode)" style="width:100%" alt="Achievement System (still in early development) ">
					</div>
				</div>
			</section>


	<script src="../css/slideshow.js"></script>
</body>
<footer >
	<p>Design and Created by Tony Chen</p>
</footer>

</html>
